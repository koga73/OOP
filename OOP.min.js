var OOP=function(){var e={namespace:function(e,t){var n=e.split(".");var r=n.length;var i=window;for(var s=0;s<r;s++){var o=n[s];if(s==r-1){i[o]=t}else{i[o]=i[o]||{}}i[o]._type=n.slice(0,s+1).join(".");i=i[o]}return t},extend:function(t,n){if(typeof t===typeof undefined){throw"Error base object is undefined";return}if(!e._isFunction(t)){throw"Error base object must be a function";return}var r=new t;for(var i in r){if(typeof n[i]===typeof undefined){n[i]=r[i]}}var s=r;do{s._interface=n;s=s._super}while(typeof s!==typeof undefined);n._super=r;return n},construct:function(t,n,r){var i=null;if(arguments&&arguments.callee&&arguments.callee.caller){i=arguments.callee.caller._type;t._type=i}t._isType=function(n){return e.isType(t,n)};t._interface=t;for(var s in n){if(e._isFunction(t[s])){t[s](n[s])}else{t[s]=n[s]}}if(r==true){if(!t._eventHandlers){t._eventHandlers={}}if(!t.addEventListener){t.addEventListener=e._addEventListener}if(!t.removeEventListener){t.removeEventListener=e._removeEventListener}if(!t.dispatchEvent){t.dispatchEvent=e._dispatchEvent}}return t},event:function(e,t){var n=null;try{n=new CustomEvent(e)}catch(r){if(document.createEventObject){n=document.createEventObject("Event");if(n.initCustomEvent){n.initCustomEvent(e,true,true)}}else{n={}}}n._type=e;n._data=t;return n},addEventListener:function(t,n,r){if(!t._eventHandlers){t._eventHandlers={}}n=n.split(",");var i=n.length;for(var s=0;s<i;s++){var o=n[s].trim();if(t.addEventListener){r=e._addEventHandler(t,o,r);t.addEventListener(o,r,false)}else if(t.attachEvent){var u=function(){r(window.event)};u.handler=r;u=e._addEventHandler(t,o,u);t.attachEvent("on"+o,u)}else{t.addEventListener=e._addEventListener;t.addEventListener(o,r)}}},_addEventListener:function(t,n){n._isCustom=true;e._addEventHandler(this,t,n)},_addEventHandler:function(e,t,n){if(!e._eventHandlers[t]){e._eventHandlers[t]=[]}var r=e._eventHandlers[t];var i=r.length;for(var s=0;s<i;s++){if(r[s]===n){return n}else if(r[s].handler&&r[s].handler===n){return r[s]}}r.push(n);return n},removeEventListener:function(t,n,r){if(!t._eventHandlers){t._eventHandlers={}}n=n.split(",");var i=n.length;for(var s=0;s<i;s++){var o=n[s].trim();var u;if(typeof r===typeof undefined){u=_vars._eventHandlers[o]}else{u=[r]}var a=u.length;for(var f=0;f<a;f++){var r=u[f];if(t.removeEventListener){r=e._removeEventHandler(t,o,r);t.removeEventListener(o,r,false)}else if(t.detachEvent){r=e._removeEventHandler(t,o,r);t.detachEvent("on"+o,r)}else{t.removeEventListener=e._removeEventListener;t.removeEventListener(o,r)}}}},_removeEventListener:function(t,n){t=t.split(",");var r=t.length;for(var i=0;i<r;i++){var s=t[i].trim();var o;if(typeof n===typeof undefined){o=this._eventHandlers[s]}else{o=[n]}var u=o.length;for(var a=0;a<u;a++){var n=o[a];n._isCustom=false;e._removeEventHandler(this,s,n)}}},_removeEventHandler:function(e,t,n){if(!e._eventHandlers[t]){e._eventHandlers[t]=[]}var r=e._eventHandlers[t];var i=r.length;for(var s=0;s<i;s++){if(r[s]===n){return r.splice(s,1)}else if(r[s].handler&&r[s].handler===n){return r.splice(s,1)}}},dispatchEvent:function(t,n){if(!t._eventHandlers){t._eventHandlers={}}if(t.dispatchEvent){t.dispatchEvent(n)}else if(t.fireEvent){t.fireEvent("on"+type,n)}else{t.dispatchEvent=e._dispatchEvent;t.dispatchEvent(n)}},_dispatchEvent:function(t){e._dispatchEventHandlers(this,t)},_dispatchEventHandlers:function(e,t){var n=e._eventHandlers[t._type];if(!n){return}var r=n.length;for(var i=0;i<r;i++){n[i](t)}},isType:function(e,t){var n=e;do{if(n._type==t||n._type==t._type){return true}n=n._super}while(typeof n!==typeof undefined);return false},_isFunction:function(e){return e&&Object.prototype.toString.call(e)=="[object Function]"}};return{Namespace:e.namespace,Extend:e.extend,Construct:e.construct,Event:e.event,addEventListener:e.addEventListener,removeEventListener:e.removeEventListener,dispatchEvent:e.dispatchEvent,isType:e.isType}}()