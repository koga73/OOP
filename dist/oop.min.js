/*
* OOP v2.1.0 Copyright (c) 2019 AJ Savino
* https://github.com/koga73/OOP
* MIT LICENSE
*/
var OOP=function(){var r=null,e="undefined"!=typeof global?global:null,o=o||e||{},c={init:function(e){e=e||o;var n={};for(var t in c.extend(n,!1,r),n)void 0!==e[t]&&delete n[t];return c.extend(!1,e,n),e},namespace:function(e,n,t){for(var r=e.split("."),i=r.length,a=t||o,s=0;s<i;s++){var v=r[s];if(s==i-1){var d=a[v];void 0!==d&&c.extend(!1,n,d),a[v]=n}else a[v]=a[v]||{};a[v]._type=r.slice(0,s+1).join("."),a=a[v]}return n},createClass:function(s,e,v,d){e=e||null,v=!0===v,d=!0===d;arguments&&arguments.callee&&arguments.callee.caller&&arguments.callee.caller;var o=function(){var e=o._super||null;c.isFunction(e)&&(e=new o._super,d||(e._interface=this));var n=Array.prototype.slice.call(arguments),t=this,r={},i=c.isFunction(s);if(i&&(s=s(r,t)),i){var a=c.extend(a,!1,e,!0,s);t=c.extend.apply(this,[t,!1,/^[^_]/,a].concat(n)),r=c.extend(r,!1,/^_/,a)}else t=c.extend.apply(this,[t,!1,e,!0,s].concat(n));return d||(t._type=o._type,t._super=e,t._interface=t),v&&c.addEvents(t),t};return e&&c.extend(o,e),o},construct:function(e){var n=e.instance,t=e.static,r=e.events,i=e.simple;return c.createClass(n,t,r,i)},inherit:function(e,n){if(void 0===e)throw"base object is undefined";if(!c.isFunction(e))throw"base object must be a function";return n._super=e,n},clone:function(e,n){switch(n=void 0===n||!0===n,!0){case c.isObject(e):var t={};for(var r in e)t[r]=n?c.clone(e[r],n):e[r];return t;case c.isArray(e):return n?e.map(function(e){return c.clone(e,n)}):e.concat()}return e},extend:function(){var e=arguments.length;switch(e){case 0:throw new Error("No arguments specified");case 1:return c.clone(arguments[0]);case 2:default:for(var n=!0,t=null,r=null,i=0;i<e;i++){var a=arguments[i];switch(!0){case c.isBoolean(a):n=a;break;case c.isRegExp(a):t=a;break;default:if(!a)continue;if(!r){r=a;continue}for(var s in a)t&&!t.test(s)||(r[s]=n?c.clone(a[s],n):a[s])}}return r}},isType:function(e,n){if(!(n=n||null))return e._type;var t=e;do{if(t._type==n||t._type==n._type)return!0;t=t._super}while(void 0!==t);return!1},isFunction:function(e){return e&&"[object Function]"==Object.prototype.toString.call(e)},isArray:function(e){return Array.isArray(e)},isObject:function(e){return e&&e.constructor&&-1<e.constructor.toString().indexOf("Object")},isString:function(e){return"string"==typeof e},isBoolean:function(e){return!0===e||!1===e},isRegExp:function(e){return e instanceof RegExp},event:function(n,e){var t=null;try{t=new CustomEvent(n)}catch(e){"undefined"!=typeof document&&document.createEventObject?(t=document.createEventObject("Event")).initCustomEvent&&t.initCustomEvent(n,!0,!0):t={}}return t._type=n,t._data=e,t},addEvents:function(e,n){return n=!0===n,e._eventHandlers||(e._eventHandlers={}),e.addEventListener||(e.addEventListener=c._addEventListener,n||(e.on=c._addEventListener)),e.removeEventListener||(e.removeEventListener=c._removeEventListener,n||(e.off=c._removeEventListener)),e.dispatchEvent||(e.dispatchEvent=c._dispatchEvent,n||(e.trigger=c._dispatchEvent,e.emit=c._dispatchEvent)),e},removeEvents:function(e,n){return n=!0===n,e._eventHandlers&&delete e._eventHandlers,e.addEventListener&&(delete e.addEventListener,n||delete e.on),e.removeEventListener&&(delete e.removeEventListener,n||delete e.off),e.dispatchEvent&&(delete e.dispatchEvent,n||(delete e.trigger,delete e.emit)),e},addEventListener:function(e,n,t){e._eventHandlers||(e._eventHandlers={});for(var r=(n=n.split(/,|\s/)).length,i=0;i<r;i++){var a=n[i];if(e.addEventListener)t=c._addEventHandler(e,a,t),e.addEventListener(a,t);else if(e.attachEvent){var s=function(){t(o.event)};s.handler=t,s=c._addEventHandler(e,a,s),e.attachEvent("on"+a,s)}else"undefined"!=typeof jQuery?(t=c._addEventHandler(e,a,t),jQuery.on(a,t)):(e.addEventListener=c._addEventListener,e.addEventListener(a,t))}},_addEventListener:function(e,n){n._isCustom=!0,c._addEventHandler(this,e,n)},_addEventHandler:function(e,n,t){e._eventHandlers[n]||(e._eventHandlers[n]=[]);for(var r=e._eventHandlers[n],i=r.length,a=0;a<i;a++){if(r[a]===t)return t;if(r[a].handler&&r[a].handler===t)return r[a]}return r.push(t),t},removeEventListener:function(e,n,t){e._eventHandlers||(e._eventHandlers={});for(var r=(n=n.split(/,|\s/)).length,i=0;i<r;i++)for(var a,s=n[i],v=(a=void 0===t?e._eventHandlers[s]||[]:[t]).length,d=0;d<v;d++){t=a[d];e.removeEventListener?(t=c._removeEventHandler(e,s,t),e.removeEventListener(s,t)):e.detachEvent?(t=c._removeEventHandler(e,s,t),e.detachEvent("on"+s,t)):"undefined"!=typeof jQuery?(t=c._removeEventHandler(e,s,t),jQuery.off(s,t)):(e.removeEventListener=c._removeEventListener,e.removeEventListener(s,t))}},_removeEventListener:function(e,n){for(var t=(e=e.split(/,|\s/)).length,r=0;r<t;r++)for(var i,a=e[r],s=(i=void 0===n?this._eventHandlers[a]||[]:[n]).length,v=0;v<s;v++){(n=i[v])._isCustom=!1,c._removeEventHandler(this,a,n)}},_removeEventHandler:function(e,n,t){e._eventHandlers[n]||(e._eventHandlers[n]=[]);for(var r=e._eventHandlers[n],i=r.length,a=0;a<i;a++){if(r[a]===t)return r.splice(a,1)[0];if(r[a].handler&&r[a].handler===t)return r.splice(a,1)[0]}},dispatchEvent:function(e,n){e._eventHandlers||(e._eventHandlers={}),e.dispatchEvent?e.dispatchEvent(n):e.fireEvent?e.fireEvent("on"+type,n):"undefined"!=typeof jQuery?jQuery(e).trigger(jQuery.Event(n._type,{_type:n._type,_data:n._data})):(e.dispatchEvent=c._dispatchEvent,e.dispatchEvent(n))},_dispatchEvent:function(e){c._dispatchEventHandlers(this,e)},_dispatchEventHandlers:function(e,n){var t=e._eventHandlers[n._type];if(t)for(var r=t.length,i=0;i<r;i++)t[i](n,n._data)}};return r={init:c.init,namespace:c.namespace,inherit:c.inherit,createClass:c.createClass,construct:c.construct,clone:c.clone,extend:c.extend,isType:c.isType,isFunction:c.isFunction,isArray:c.isArray,isObject:c.isObject,isString:c.isString,isBoolean:c.isBoolean,isRegExp:c.isRegExp,Event:c.event,addEvents:c.addEvents,removeEvents:c.removeEvents,addEventListener:c.addEventListener,on:c.addEventListener,removeEventListener:c.removeEventListener,off:c.removeEventListener,dispatchEvent:c.dispatchEvent,trigger:c.dispatchEvent,emit:c.dispatchEvent}}();"undefined"!=typeof module&&(module.exports=OOP);