/*
* OOP v2.2.4 Copyright (c) 2019 AJ Savino
* https://github.com/koga73/OOP
* MIT LICENSE
*/
var OOP=function(){var r=null,e="undefined"!=typeof window?window:null,t="undefined"!=typeof global?global:null,d=e||t||null,p={changeScope:function(e){e=e||d;var t={};for(var n in p.extend(t,!1,r),t)void 0!==e[n]&&delete t[n];return p.extend(!1,e,t),e},namespace:function(e,t,n){for(var r=e.split("."),i=r.length,a=n||d,s=0;s<i;s++){var v=r[s];if(s==i-1){var o=a[v];void 0!==o&&p.extend(!1,t,o),a[v]=t}else a[v]=a[v]||{};a[v]._type=r.slice(0,s+1).join("."),a=a[v]}return t},createClass:function(l,e,u,t,f){e=e||null,u=!0===u,t=!0===t,f=!0===f;arguments&&arguments.callee&&arguments.callee.caller&&arguments.callee.caller;var E=function(){var e=E._super||null;p.isFunction(e)&&(e=E._super.apply({},arguments));for(var t=[],n=[],r=Array.prototype.slice.call(arguments),i=r.length,a=0;a<i;a++){var s=r[a];p.isObject(s)?t.push(s):n.push(s)}var v=l,o=this,d={},c=p.isFunction(v);return c&&(v=v(d,o)),c?(v=p.extend({},!1,e,!0,v),o=p.extend.apply(this,[o,!1,/^[^_]/,v].concat(t)),d=p.extend(d,!1,/^_/,v)):o=p.extend.apply(this,[o,!1,e,!0,v,!1].concat(t)),f||(o._type=E._type,o._super=e,!f&&e&&(e._interface=o),o._interface=o),u&&p.addEvents(o),o.__construct&&o.__construct.apply(this,n),d.__construct&&d.__construct.apply(this,n),o};return e&&(p.extend(E,!1,e),t&&p.addEvents(E)),E},construct:function(e){var t=e.instance,n=e.static,r=e.events,i=e.staticEvents,a=e.simple;return p.createClass(t,n,r,i,a)},inherit:function(e,t){if(void 0===e)throw"base object is undefined";if(!p.isFunction(e))throw"base object must be a function";return t._super=e,t},clone:function(e,t){switch(t=void 0===t||!0===t,!0){case p.isObject(e):var n={};for(var r in e){var i=e[r];n[r]=t&&i!==e?p.clone(i,t):i}return n;case p.isArray(e):if(t){for(var a=[],s=e.length,v=0;v<s;v++)a.push(p.clone(e[v],t));return a}return e.concat()}return e},extend:function(){var e=arguments.length;switch(e){case 0:throw new Error("No arguments specified");case 1:return p.clone(arguments[0]);case 2:default:for(var t=!0,n=null,r=null,i=0;i<e;i++){var a=arguments[i];switch(!0){case p.isBoolean(a):t=a;break;case p.isRegExp(a):n=a;break;default:if(!a)continue;if(!r){r=a;continue}for(var s in a)n&&!n.test(s)||(r[s]=t?p.clone(a[s],t):a[s])}}return r}},isType:function(e,t){if(!(t=t||null))return e._type;var n=e;do{if(n._type==t||n._type==t._type)return!0;n=n._super}while(void 0!==n);return!1},isFunction:function(e){return e&&"[object Function]"==Object.prototype.toString.call(e)},isArray:function(e){return e&&"[object Array]"===Object.prototype.toString.call(e)},isObject:function(e){return e&&e.constructor&&-1<e.constructor.toString().indexOf("Object")},isString:function(e){return"string"==typeof e},isBoolean:function(e){return!0===e||!1===e},isRegExp:function(e){return e instanceof RegExp},event:function(t,e){var n=null;try{n=new CustomEvent(t)}catch(e){"undefined"!=typeof document&&document.createEventObject?(n=document.createEventObject("Event")).initCustomEvent&&n.initCustomEvent(t,!0,!0):n={}}return n.type=t,n.data=e,n},addEvents:function(e,t){return t=!0===t,e._eventHandlers||(e._eventHandlers={}),e.addEventListener||(e.addEventListener=p._addEventListener,t||(e.on=p._addEventListener)),e.removeEventListener||(e.removeEventListener=p._removeEventListener,t||(e.off=p._removeEventListener)),e.dispatchEvent||(e.dispatchEvent=p._dispatchEvent,t||(e.trigger=p._dispatchEvent,e.emit=p._dispatchEvent)),e},removeEvents:function(e,t){return t=!0===t,e._eventHandlers&&delete e._eventHandlers,e.addEventListener&&(delete e.addEventListener,t||delete e.on),e.removeEventListener&&(delete e.removeEventListener,t||delete e.off),e.dispatchEvent&&(delete e.dispatchEvent,t||(delete e.trigger,delete e.emit)),e},addEventListener:function(e,t,n){if(!p.isString(e)){e._eventHandlers||(e._eventHandlers={});for(var r=(t=t.split(/,|\s/)).length,i=0;i<r;i++){var a=t[i];if(e.addEventListener)n=p._addEventHandler(e,a,n),e.addEventListener(a,n);else if(e.attachEvent){var s=function(){n(d.event)};s.handler=n,s=p._addEventHandler(e,a,s),e.attachEvent("on"+a,s)}else"undefined"!=typeof jQuery?(n=p._addEventHandler(e,a,n),jQuery.on(a,n)):(e.addEventListener=p._addEventListener,e.addEventListener(a,n))}}},_addEventListener:function(e,t){t._isCustom=!0,p._addEventHandler(this,e,t)},_addEventHandler:function(e,t,n){e._eventHandlers[t]||(e._eventHandlers[t]=[]);for(var r=e._eventHandlers[t],i=r.length,a=0;a<i;a++){if(r[a]===n)return n;if(r[a].handler&&r[a].handler===n)return r[a]}return r.push(n),n},removeEventListener:function(e,t,n){if(!p.isString(e)){e._eventHandlers||(e._eventHandlers={});for(var r=(t=t.split(/,|\s/)).length,i=0;i<r;i++)for(var a,s=t[i],v=(a=void 0===n?e._eventHandlers[s]||[]:[n]).length,o=0;o<v;o++){n=a[o];e.removeEventListener?(n=p._removeEventHandler(e,s,n),e.removeEventListener(s,n)):e.detachEvent?(n=p._removeEventHandler(e,s,n),e.detachEvent("on"+s,n)):"undefined"!=typeof jQuery?(n=p._removeEventHandler(e,s,n),jQuery.off(s,n)):(e.removeEventListener=p._removeEventListener,e.removeEventListener(s,n))}}},_removeEventListener:function(e,t){for(var n=(e=e.split(/,|\s/)).length,r=0;r<n;r++)for(var i,a=e[r],s=(i=void 0===t?this._eventHandlers[a]||[]:[t]).length,v=0;v<s;v++){(t=i[v])._isCustom=!1,p._removeEventHandler(this,a,t)}},_removeEventHandler:function(e,t,n){e._eventHandlers[t]||(e._eventHandlers[t]=[]);for(var r=e._eventHandlers[t],i=r.length,a=0;a<i;a++){if(r[a]===n)return r.splice(a,1)[0];if(r[a].handler&&r[a].handler===n)return r.splice(a,1)[0]}},dispatchEvent:function(e,t){e._eventHandlers||(e._eventHandlers={}),e.dispatchEvent?e.dispatchEvent(t):e.fireEvent?e.fireEvent("on"+type,t):"undefined"!=typeof jQuery?jQuery(e).trigger(jQuery.Event(t.type,{type:t.type,data:t.data})):(e.dispatchEvent=p._dispatchEvent,e.dispatchEvent(t))},_dispatchEvent:function(e){p._dispatchEventHandlers(this,e)},_dispatchEventHandlers:function(e,t){var n=e._eventHandlers[t.type];if(n)for(var r=n.length,i=0;i<r;i++)n[i](t,t.data)}};return r={changeScope:p.changeScope,namespace:p.namespace,inherit:p.inherit,createClass:p.createClass,construct:p.construct,clone:p.clone,extend:p.extend,isType:p.isType,isFunction:p.isFunction,isArray:p.isArray,isObject:p.isObject,isString:p.isString,isBoolean:p.isBoolean,isRegExp:p.isRegExp,Event:p.event,addEvents:p.addEvents,removeEvents:p.removeEvents,addEventListener:p.addEventListener,on:p.addEventListener,removeEventListener:p.removeEventListener,off:p.removeEventListener,dispatchEvent:p.dispatchEvent,trigger:p.dispatchEvent,emit:p.dispatchEvent}}();"undefined"!=typeof module&&(module.exports=OOP);